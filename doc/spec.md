# Kucipong 仕様

## サービス概要

お店のクーポンをユーザ向けにカスタマイズして表示する。

## モデルアプリ

### シュフー チラシ

https://itunes.apple.com/jp/app/shufu-chirashiapuri/id373909230?mt=8
https://play.google.com/store/apps/details?id=com.toppan.shufoo.android&hl=ja
http://app-liv.jp/373909230/

### Groupon（グルーポン)

https://play.google.com/store/apps/details?id=com.groupon&hl=ja

### インドネシア国内

https://www.foodpanda.co.id/
http://katalogpromosi.com/
https://lakupon.com/
https://evoucher.co.id/

## UIイメージ

https://prottapp.com/p/0eb526#/s/5715c3bf4942fb56c5730180

## プラットフォーム

* Webアプリとして開発
    * スマホネイティブを考慮した実装
    * サポートブラウザはモダンブラウザ
        * html5, flexboxをふつうに使ってOK
        * IE8,9 あたりは必要になった段階でpolyfillを入れる
* 場合によってはその後ネイティブアプリ化
    * ハイブリッドアプリにするかも
    * PhoneGapでもいいし、React Nativeでもいいし、Elm Nativeかもしれない

## 絶対にやること

* Haskellの流布/教育に利用できるようにする
* 動くものを完成させる

## KPI

現段階では特に追わない。

## ユーザーストーリー

ベータ版公開時くらいのイメージで、下記のストーリーを達成できるように機能設計する。

### 一般ユーザ

クーポンを探して利用する側のユーザ。
一般ユーザにはログイン機能がなくても、ブラウザにデータを保存できる"localStorage"に情報をいれておけば、スマホなどで使うぶんには特に不便がないはず。

* メールアドレスを収集する必要がある
* 異なるブラウザや端末から同一ユーザがサービスを利用するケースが無視できない

などの場合は、ログイン機能を実装すべき。

#### Case1. とくにこだわらないユーザ

1. kucipong サービスのトップページ（カテゴリページ）にたどり着く
2. なんかよくわかんないけど、とりあえず「グルメ」を押してみる
3. 人気順でグルメ関連のクーポンが表示されている
4. 途中までスクロールすると、どうやら「無限スクロール」形式のようだ
5. マクドナルド全店共通のクーポンがあったので、タップしてみた
6. ビッグマックやポテトなどの、お得なクーポンが並んでいる。どうやらこの画面をレジで見せるだけで割引されるようだ
7. ポケモンでも集めながらマクドナルドに行こう

#### Case2. 地域による絞り込み

1. kucipong サービスのトップページ（カテゴリページ）にたどり着く
2. なんかよくわかんないけど、とりあえず「グルメ」を押してみる
3. 人気順で表示されるが、どうも自分のいる場所からはすごく遠いクーポンばかり並んでいる
4. メインメニューの下に「地域で絞り込む」「種類で絞り込む」のメニューがあるのに気づく
5. まずは地域で絞り込みたかったので、「地域で絞り込む」を選択してみた
6. 「絞り込みたいエリアの地名や住所を入力してください」と聞かれたので、"Bandar Lampung"と入力したら、下に地図が表示されて、"Bandar Lampung"が表示された
7. 最初に見ていたグルメのページに、"Bandar Lampung"の周辺のものから順番にクーポンが並ぶようになった
8. 途中までスクロールすると、どうやら「無限スクロール」形式のようだ
9. 割と近所の寿司バーのクーポンがあったので、タップしてみる
10. カリフォルニアロールや、どぶろくのクーポンがある
11. 確か近くにポケストがあったので、ルアーモジュールを使いながら寿司でも食べよう

#### Case3. 種類による絞り込み

1. kucipong サービスのトップページ（カテゴリページ）にたどり着く
2. なんかよくわかんないけど、とりあえず「グルメ」を押してみる
3. 人気順で表示されるが、最近脂質を気にしているのに、マクドナルドとかが上位に並んでいる
4. メインメニューの下に「地域で絞り込む」「種類で絞り込む」のメニューがあるのに気づく
5. まずは料理の種類で絞りたかったので、「種類で絞り込む」をクリックしてみた
6. 「関心のある項目を選んでください」と言われ、料理の種類がたくさん提示されたので、「日本食」「ベジタリアン」を選んでみた
7. 最初に見ていたグルメのページに、「日本食」「ベジタリアン」な料理から優先して表示された
8. 途中までスクロールすると、どうやら「無限スクロール」形式のようだ
9. 割と近所の寿司バーのクーポンがあったので、タップしてみる
10. カリフォルニアロールや、どぶろくのクーポンがある
11. ポケモンGoでもしながら歩いて向かえば、脂肪も燃焼されて一石二鳥だ

#### Case4. 地域と種類による絞り込み

1. kucipong サービスのトップページ（カテゴリページ）にたどり着く
2. なんかよくわかんないけど、とりあえず「グルメ」を押してみる
3. 人気順で表示されるが、最近脂質を気にしているのに、マクドナルドとかが上位に並んでいる
4. メインメニューの下に「地域で絞り込む」「種類で絞り込む」のメニューがあるのに気づく
5. まずは料理の種類で絞りたかったので、「種類で絞り込む」をタップしてみた
6. 「関心のある項目を選んでください」と言われ、料理の種類がたくさん提示されたので、「日本食」「ベジタリアン」を選んでみた
7. 最初に見ていたグルメのページに、「日本食」「ベジタリアン」な料理から優先して表示された
8. 途中までスクロールすると、どうやら「無限スクロール」形式のようだ
9. どれも遠い場所ばかりなので、「地域で絞り込む」をタップしてみた
10. 「日本食」「ベジタリアン」な料理が近い順に並んでいる中に、近所の寿司屋を見つけたのでタップしてみた
11. カリフォルニアロールや、どぶろくのクーポンがある
12. ポケモンGo plusがあれば、スマホの充電を気にしなくてもポケモンを狩ることができて便利だ

#### Case5. 再訪ユーザ

1. 明日は渡米した娘が１年ぶりに帰ってくる。空港まで迎えに行くついでに近くでなにかおいしい物をごちそうしてやろう
2. そういえば、前にkucipongなんていうサービスを使ったことがあったな
3. なんか使い方忘れたけど、とりあえず「グルメ」を押してみる
4. 人気順で表示されるが、どうも以前会員登録したときに指定した地域と種類のグルメが並んでいる。便利だが、今回はこのあたりではないのだ
5. メインメニューの下に「地域を変更する」「種類を変更する」のメニューがあるのに気づく
6. 地域を変更したかったので、「地域を変更する」を選択してみた
7. 「絞り込みたいエリアを入力してください」と聞かれたので、"成田空港"と入力したら、下に地図が表示されて、"成田空港周辺"が表示された
8. 最初に見ていたグルメのページに、"成田空港"周辺のものから順番にクーポンが並ぶようになった
9. どうやら、食事の種類は前回指定した「日本食」や「ベジタリアン」が並んでいるようだ
10. 空港あたりの寿司レストランのクーポンがあったので、タップしてみる
11. カリフォルニアロールや、どぶろくのクーポンがある
12. そういえば、娘は幼い頃、ポケモンの絵が描かれた飛行機に乗りたがっていたことを思い出した

#### Case6. お気に入り機能

1. 明日は渡米した娘が１年ぶりに帰ってくる。空港まで迎えに行くついでに近くでなにかおいしい物をごちそうしてやろう
2. そういえば、前にkucipongなんていうサービスを使ったことがあったな
3. なんか使い方忘れたけど、とりあえず「グルメ」を押してみる
4. 人気順で表示されるが、どうも以前会員登録したときに指定した地域と種類のグルメが並んでいる。便利だが、今回はこのあたりではないのだ
5. メインメニューの下に「地域を変更する」「種類を変更する」のメニューがあるのに気づく
6. 地域を変更したかったので、「地域を変更する」を選択してみた
7. 「絞り込みたいエリアを入力してください」と聞かれたので、"成田空港"と入力したら、下に地図が表示されて、"成田空港周辺"が表示された
8. 最初に見ていたグルメのページに、"成田空港"周辺のものから順番にクーポンが並ぶようになった
9. どうやら、食事の種類は前回指定した「日本食」や「ベジタリアン」が並んでいるようだ
10. 空港あたりの寿司レストランのクーポンがあったので、タップしてみる
11. 右上のハートマークを押したら、ハートが赤くなった。どうやら、これでいつでもこのクーポンをすぐに見つけられるらしい
12. ためしにトップメニューのハートマークを押してみたら、今の寿司レストランが登録されていた
13. これなら、直前までポケモンGoをやっていても、すぐにクーポンを探し出せるだろう

### 企業ユーザ

自社のクーポンを掲載する側のユーザ。

### 管理者ユーザ

ユーザのサポート、有害ユーザのBAN、 各種設定を行うユーザ。
